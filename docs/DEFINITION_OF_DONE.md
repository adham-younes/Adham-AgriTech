# Technical Definition of Done (DoD) for PRs

أي Pull Request لا يعتبر جاهزًا للدمج إلا إذا حقق البنود التالية:

## 1) جودة الكود
- يلتزم بأسلوب المشروع وTypeScript strict typing.
- لا يضيف `any` غير مبرر أو ديون تقنية بدون توثيق واضح.
- أي منطق جديد يحتوي على اختبارات مناسبة (unit/integration حسب الحالة).

## 2) اختبارات وتغطية
- جميع الاختبارات تمر محليًا وفي CI.
- أي وحدة جديدة في `apps/web/lib` أو `packages/lib/src` لديها اختبارات لحالات edge cases.
- الحفاظ على حدود التغطية الأساسية (coverage thresholds) وعدم خفضها بدون مبرر.

## 3) السلامة النوعية (Type Safety)
- فحص `typecheck` يمر بدون أخطاء.
- أي تغيير في العقود (types/interfaces) ينعكس في الاستخدامات والاختبارات.

## 4) التكامل مع CI
- PR يمر عبر بوابات الجودة في GitHub Actions:
  - lint
  - typecheck (لكل الحزم)
  - test (لكل الحزم)

## 5) التوثيق والتشغيل
- تحديث التوثيق عند تغيير سلوك وظيفي أو عقد API.
- إضافة ملاحظات تشغيل/هجرة عند الحاجة (إن كان التغيير يؤثر على البيئة أو البيانات).

## 6) جاهزية المراجعة
- وصف PR يوضح: المشكلة، الحل، المخاطر، وخطة التحقق.
- لا توجد أسرار/مفاتيح داخل الكود أو الاختبارات.
